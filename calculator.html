<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>ç¶²ç«™é–‹ç™¼æ–¹æ¡ˆè©¦ç®—</title>
<style>
  /* å…¨è¢å¹•å­—ä¸²é›¨èƒŒæ™¯ */
  body, html {
    margin: 0; padding: 0; 
    height: 100%;
    background-color: black;
    overflow-x: hidden;
    font-family: 'Segoe UI', sans-serif;
    color: #e0f2fe;
  }
  canvas#matrixCanvas {
    position: fixed;
    top: 0; left: 0;
    width: 100%;
    height: 100%;
    z-index: 0;
    display: block;
    pointer-events: none; /* ä¸é˜»æ“‹é»æ“Š */
  }

  /* å…§å®¹å€ */
  .content {
    position: relative;
    z-index: 1;
    max-width: 600px;
    margin: 40px auto;
    padding: 30px;
    border-radius: 12px;
    background: rgba(17, 24, 39, 0.9);
    box-shadow: 0 0 30px rgba(0, 255, 255, 0.1);
  }

  header nav {
    text-align: center;
    margin-bottom: 20px;
  }
  nav a {
    color: #7dd3fc;
    font-size: 18px;
    text-decoration: none;
    margin: 0 10px;
    transition: color 0.3s ease;
  }
  nav a:hover {
    color: #38bdf8;
  }

  h2 {
    text-align: center;
    color: #7dd3fc;
    margin-top: 0;
  }

  label {
    margin-top: 15px;
    display: block;
    font-weight: bold;
  }

  select {
    width: 100%;
    padding: 10px;
    margin-top: 5px;
    font-size: 16px;
    background-color: #1f2937;
    color: #e0f2fe;
    border: 1px solid #38bdf8;
    border-radius: 6px;
  }

  .plan-details {
    background: #1e293b;
    padding: 12px;
    border-radius: 8px;
    margin-top: 15px;
    border-left: 4px solid #38bdf8;
  }

  .result {
    margin-top: 30px;
    background-color: #1e2a40;
    padding: 20px;
    border-radius: 8px;
    border: 1px dashed #7dd3fc;
  }

  .result p {
    margin: 8px 0;
    font-size: 16px;
  }

  .highlight {
    font-size: 20px;
    color: #38f2ff;
    font-weight: bold;
  }

  /* éŸ¿æ‡‰å¼ */
  @media (max-width: 480px) {
    .content {
      max-width: 95vw;
      margin: 20px auto;
      padding: 15px;
      font-size: 14px;
    }
    nav a {
      font-size: 16px;
      margin: 0 6px;
    }
    h2 {
      font-size: 1.5rem;
    }
    label, select, .result p {
      font-size: 14px;
    }
    .highlight {
      font-size: 18px;
    }
  }
</style>
</head>
<body>

<canvas id="matrixCanvas"></canvas>

<div class="content">
  <header>
    <nav>
      <a href="index.html">é¦–é </a>
      <a href="login.html">ç™»å…¥ / ç™»å‡º</a>
      <a href="calculator.html">è²»ç”¨è©¦ç®—</a>
      <a href="music.html">å½±éŸ³æ¨¡å‹</a>
    </nav>
  </header>

  <h2>ğŸ’» ç¶²ç«™é–‹ç™¼è²»ç”¨è©¦ç®—</h2>

  <label for="plan">è«‹é¸æ“‡æ–¹æ¡ˆï¼š</label>
  <select id="plan">
    <option value="A">A æ–¹æ¡ˆï¼ˆNT$ 15,000ï¼‰</option>
    <option value="B">B æ–¹æ¡ˆï¼ˆNT$ 25,000ï¼‰</option>
    <option value="C">C æ–¹æ¡ˆï¼ˆNT$ 45,000ï¼‰</option>
  </select>

  <div class="plan-details" id="planDescription">
    ğŸ‘‰ é¸æ“‡æ–¹æ¡ˆå¾Œï¼Œé€™è£¡æœƒé¡¯ç¤ºé–‹ç™¼å…§å®¹èªªæ˜ã€‚
  </div>

  <label for="discount">æŠ˜æ‰£é¸æ“‡ï¼š</label>
  <select id="discount">
    <option value="1">ç„¡æŠ˜æ‰£ï¼ˆ100%ï¼‰</option>
    <option value="0.9">9 æŠ˜ï¼ˆ90%ï¼‰</option>
    <option value="0.85">85 æŠ˜ï¼ˆ85%ï¼‰</option>
    <option value="0.8">8 æŠ˜ï¼ˆ80%ï¼‰</option>
  </select>

  <label for="shipping">äº¤ä»˜ç®¡ç†è²»ï¼ˆå…ƒï¼‰ï¼š</label>
  <select id="shipping">
    <option value="0">å…æ”¶</option>
    <option value="200">NT$200</option>
    <option value="500">NT$500ï¼ˆå«éƒ¨ç½² + æŠ€è¡“é©—æ”¶ï¼‰</option>
  </select>

  <div class="result" id="result">
    <p>åŸåƒ¹ï¼šNT$ <span id="originalPrice">15000</span></p>
    <p>æŠ˜æ‰£å¾Œï¼šNT$ <span id="discountedPrice">15000</span></p>
    <p>ç¯€çœé‡‘é¡ï¼šNT$ <span id="savedAmount">0</span></p>
    <p>é‹è²»ï¼šNT$ <span id="shippingCost">0</span></p>
    <hr />
    <p class="highlight">ç¸½è¨ˆï¼šNT$ <span id="finalTotal">15000</span></p>
  </div>
</div>

<script>
  // å­—ä¸²é›¨å‹•ç•«è¨­å®š
  const canvas = document.getElementById('matrixCanvas');
  const ctx = canvas.getContext('2d');

  const katakana = 'ã‚¢ã‚¡ã‚«ã‚µã‚¿ãƒŠãƒãƒãƒ¤ãƒ£ãƒ©ãƒ¯ã‚¬ã‚¶ãƒ€ãƒãƒ‘ãƒ“ãƒ”ãƒ•ãƒ–ãƒ—ãƒ˜ãƒ™ãƒšãƒ›ãƒœãƒ¢ãƒ¨ãƒ§ãƒ­ãƒ²ãƒ³ãƒ°ãƒ±ãƒ´';
  const latin = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
  const nums = '0123456789';
  const alphabet = katakana + latin + nums;

  const fontSize = 16;
  let width, height, columns, rainDrops;

  // è¨­ç½®ç•«å¸ƒå¤§å°èˆ‡æ¬„æ•¸
  function setupCanvas() {
    width = canvas.width = window.innerWidth;
    height = canvas.height = window.innerHeight;
    columns = Math.floor(width / fontSize);
    rainDrops = Array(columns).fill(1);
  }

  setupCanvas();

  // ç•«é¢é‡æ–°èª¿æ•´æ™‚æ›´æ–°
  window.addEventListener('resize', () => {
    setupCanvas();
  });

  const colors = ['#0F0', '#0FF', '#F00', '#FF0'];  // ç¶ ã€è—ã€ç´…ã€é»ƒ
  let currentColorIndex = 0;

  // éŸ³æ•ˆï¼ˆé»æ“Šæ™‚å•Ÿç”¨ï¼‰
  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

  function playBeep() {
    if (audioCtx.state !== 'running') return;
    const osc = audioCtx.createOscillator();
    const gainNode = audioCtx.createGain();
    osc.frequency.value = 100 + Math.random() * 300;
    gainNode.gain.value = 0.01;
    osc.connect(gainNode);
    gainNode.connect(audioCtx.destination);
    osc.start();
    osc.stop(audioCtx.currentTime + 0.05);
  }

  // ç¹ªè£½å­—ä¸²é›¨
  function draw() {
    ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
    ctx.fillRect(0, 0, width, height);
    ctx.font = fontSize + 'px monospace';

    for (let i = 0; i < rainDrops.length; i++) {
      const text = alphabet.charAt(Math.floor(Math.random() * alphabet.length));
      const x = i * fontSize;
      const y = rainDrops[i] * fontSize;

      ctx.fillStyle = Math.random() > 0.975 ? '#FFF' : colors[currentColorIndex];
      ctx.fillText(text, x, y);

      if (y > height && Math.random() > 0.975) {
        rainDrops[i] = 0;
      }
      rainDrops[i]++;
    }
    playBeep();
  }

  let animationInterval = setInterval(draw, 50);

  // é»æ“Šåˆ‡æ›å­—ä¸²é›¨é¡è‰² & å•Ÿç”¨éŸ³è¨Š
  canvas.addEventListener('click', () => {
    currentColorIndex = (currentColorIndex + 1) % colors.length;
    if (audioCtx.state === 'suspended') {
      audioCtx.resume();
    }
  });

  // --- è²»ç”¨è©¦ç®—é‚è¼¯ ---
  const planSelect = document.getElementById('plan');
  const discountSelect = document.getElementById('discount');
  const shippingSelect = document.getElementById('shipping');

  const planDescription = document.getElementById('planDescription');
  const originalPrice = document.getElementById('originalPrice');
  const discountedPrice = document.getElementById('discountedPrice');
  const savedAmount = document.getElementById('savedAmount');
  const shippingCost = document.getElementById('shippingCost');
  const finalTotal = document.getElementById('finalTotal');

  const planData = {
    A: {
      price: 15000,
      desc: `ğŸ“„ å–®é å½¢è±¡ç¶²ç«™ï¼šRWD è¨­è¨ˆã€éœæ…‹é é¢ã€è¡¨å–®æäº¤ã€ç°¡å–®ä½ˆå±€ã€‚é©åˆå°å‹å“ç‰Œå¿«é€Ÿä¸Šç·šã€‚`
    },
    B: {
      price: 25000,
      desc: `ğŸ“ ä¸­å‹ä¼æ¥­å®˜ç¶²ï¼šå¤šé çµæ§‹ï¼ˆç´„5é ï¼‰ã€å¾Œå°ç®¡ç†ç³»çµ±ã€RWD éŸ¿æ‡‰å¼è¨­è¨ˆã€éƒ¨è½æ ¼æ¨¡çµ„ã€è¯çµ¡åŠŸèƒ½ã€‚`
    },
    C: {
      price: 45000,
      desc: `ğŸ›’ å®¢è£½åŒ–å¹³å° / é›»å•†ï¼šå®Œæ•´å‰å¾Œå°ã€æœƒå“¡ç³»çµ±ã€è¨‚å–®è™•ç†ã€API ä¸²æ¥ã€å¾Œå°æ•¸æ“šç®¡ç†ã€‚`
    }
  };

  function update() {
    const selectedPlan = planSelect.value;
    const discountRate = parseFloat(discountSelect.value);
    const shippingFee = parseFloat(shippingSelect.value);

    const plan = planData[selectedPlan];
    const price = plan.price;
    const discounted = price * discountRate;
    const saved = price - discounted;
    const total = discounted + shippingFee;

    planDescription.textContent = plan.desc;
    originalPrice.textContent = price.toLocaleString();
    discountedPrice.textContent = discounted.toLocaleString(undefined, { maximumFractionDigits: 0 });
    savedAmount.textContent = saved.toLocaleString(undefined, { maximumFractionDigits: 0 });
    shippingCost.textContent = shippingFee.toLocaleString();
    finalTotal.textContent = total.toLocaleString(undefined, { maximumFractionDigits: 0 });
  }

  planSelect.addEventListener('change', update);
  discountSelect.addEventListener('change', update);
  shippingSelect.addEventListener('change', update);

  update(); // é é¢è¼‰å…¥åˆå§‹åŒ–
</script>

</body>
</html>
